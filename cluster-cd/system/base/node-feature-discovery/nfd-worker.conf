# https://kubernetes-sigs.github.io/node-feature-discovery/v0.12/usage/customization-guide.html#label-rule-format
core:
  labelSources:
    - custom
    - pci
    - usb
    - kernel
sources:
  usb:
    deviceClassWhitelist:
      - "02"
      - "03"
      - "0e"
      - "ef"
      - "fe"
      - "ff"
    deviceLabelFields:
      - "class"
      - "vendor"
      - "device"
  custom:
    - name: "zwave"
      labels:
        zwave: "true"
      matchFeatures:
        - feature: usb.device
          matchExpressions:
            class: {op: In, value: ["02"]}
            vendor: {op: In, value: ["1a86"]}
            device: {op: In, value: ["55d4"]}
      custom:
    - name: "zwave7"
      labels:
        zwave7: "true"
      matchFeatures:
        - feature: usb.device
          matchExpressions:
            class: {op: In, value: ["ff"]}
            vendor: {op: In, value: ["10c4"]}
            device: {op: In, value: ["ea60"]}
    - name: "intel-gpu"
      labels:
        intel-gpu: "true"
      matchFeatures:
        - feature: pci.device
          matchExpressions:
            class: {op: In, value: ["0300"]}
            vendor: {op: In, value: ["8086"]}
    - name: "nvidia-gpu"
      labels:
        nvidia-gpu: "true"
      matchFeatures:
        - feature: pci.device
          matchExpressions:
            class: {op: In, value: ["0300"]}
            vendor: {op: In, value: ["10de"]}
    - name: "coral"
      labels:
        google.feature.node.kubernetes.io/coral-type: "usb"
        google.feature.node.kubernetes.io/coral: "true"
      matchFeatures:
        - feature: usb.device
          matchExpressions:
            vendor: { op: In, value: ["1a6e", "18d1"] }
    - name: "coral-m.2"
      labels:
        google.feature.node.kubernetes.io/coral-type: "m.2"
        google.feature.node.kubernetes.io/coral: "true"
      matchFeatures:
        - feature: pci.device
          matchExpressions:
            vendor: { op: In, value: ["1ac1"] }
            device: { op: In, value: ["089a"] }