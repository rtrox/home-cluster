---
query:
  enabled: true
  replicaCount: 2
  replicaLabels:
    - replica
  dnsDiscovery:
    sidecarsService: kube-prometheus-stack-thanos-discovery
    sidecarsNamespace: monitoring
  ingress:
    enabled: true
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
      kubernetes.io/tls-acme: 'true'
    hostname: thanos.${SECRET_DOMAIN}
    tls: true
queryFrontend:
  enabled: false
bucketweb:
  enabled: true
compactor:
  enabled: true
  persistence:
    enabled: false
storegateway:
  podSecurityContext:
    enabled: true
    fsGroup: 0
  containerSecurityContext:
    enabled: true
    runAsUser: 0
    runAsNonRoot: false
    allowPrivilegeEscalation: false
    readOnlyRootFilesystem: true
  enabled: true
  persistence:
    enabled: true
    size: 40Gi
  resources:
    requests:
      memory: 5Gi
    limits:
      memory: 7Gi
ruler:
  enabled: false
metrics:
  enabled: true
  serviceMonitor:
    enabled: true
existingObjstoreSecret: thanos-objstore-secret
