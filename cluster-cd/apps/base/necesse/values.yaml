image:
  repository: brammys/necesse-server
  pullPolicy: IfNotPresent
  tag: 0-21-29

global:
  labels:
    app.kubernetes.io/instance: &name necesse
    app.kubernetes.io/component: *name
    app.kubernetes.io/part-of: *name

strategy:
  type: Recreate

podAnnotations:
  backup.velero.io/backup-volumes: saves

env:
  PASSWORD: ${SECRET_NECESSE_PASSWORD}
  PAUSE: 1
  WORLD: necesse-chongus
  MOTD: "Chongus - A Necesse Server powered by k8s."
  SLOTS: 10

service:
  main:
    enabled: true
    type: LoadBalancer
    annotations:
      io.cilium/lb-ipam-ips: "${NECESSE_LB_IP}"
      metallb.universe.tf/loadBalancerIPs: "${NECESSE_LB_IP}"
    ports:
      server:
        port: 14159

resources:
  limits:
    cpu: 2000m
    memory: 8Gi
  requests:
    cpu: 1000m
    memory: 8Gi

persistence:
  saves:
    enabled: true
    type: pvc
    accessMode: ReadWriteOnce
    size: 30Gi
    mountPath: /necesse/saves
